import{s as h}from"../../resources/global/global.util.BDToHPEB.js";import{a as d,d as c,o as u,b as m,L as a,A as f}from"../../.store.ssRjOe-B.js";import{_ as p}from"../address/S3Address.Dp8cFelg.js";const v={name:"S3RightMenu",components:{},emits:["hide"],props:{},data(){return{visible:!1,style:{top:"0px",left:"0px"},modelValue:{},innerWidth:void 0,innerHeight:void 0}},watch:{visible(e,t){e||this.$emit("hide")}},created(){},mounted(){this.innerWidth=window.innerWidth,this.innerHeight=window.innerHeight},beforeUnmount(){},methods:{close(){this.visible=!1,window.removeEventListener("click",this.closeMenu),window.removeEventListener("contextmenu",this.closeMenu)},closeMenu(e){this.close()},click(e,t){e.preventDefault(),window.removeEventListener("click",this.closeMenu),window.removeEventListener("contextmenu",this.closeMenu);const{clientY:s,clientX:o}=e;this.modelValue=t,this.visible=!0,this.$nextTick(()=>{const i=this.$refs.S3RightMenu.getBoundingClientRect();let r=s,l=o;o+i.width>this.innerWidth&&(l=Math.max(this.innerWidth-i.width-10,0)),s+i.height>this.innerHeight&&(r=Math.max(this.innerHeight-i.height-10,0)),this.style={top:`${r}px`,left:`${l}px`},window.addEventListener("click",this.closeMenu),h(.1).then(()=>window.addEventListener("contextmenu",this.closeMenu))})}}};function w(e,t,s,o,n,i){return n.visible?(u(),d("div",{key:0,class:"right-menu",ref:"S3RightMenu",style:f(n.style),onContextmenu:t[0]||(t[0]=a(()=>{},["prevent"]))},[m(e.$slots,"default",{scope:n.modelValue},void 0,!0)],36)):c("",!0)}const b=p(v,[["render",w],["__scopeId","data-v-7df7b4e5"]]);export{b as default};
