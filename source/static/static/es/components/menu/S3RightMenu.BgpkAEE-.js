import{s as h}from"../../resources/global/global.util.CdGU-cda.js";import{a as d,d as c,o as m,b as u,C as a,y as p}from"../../vue.B9VI7CMM.js";import{_ as f}from"../address/S3Address.C-l0MtE3.js";import"../../js.DlQi3gKf.js";import"../../md5.DCeuUgf6.js";import"../../charenc.DHEmDxqN.js";import"../../mitt.C1xD_ZTF.js";const v={name:"S3RightMenu",components:{},emits:["hide"],props:{},data(){return{visible:!1,style:{top:"0px",left:"0px"},modelValue:{},innerWidth:void 0,innerHeight:void 0}},watch:{visible(e,t){e||this.$emit("hide")}},created(){},mounted(){this.innerWidth=window.innerWidth,this.innerHeight=window.innerHeight},beforeUnmount(){},methods:{close(){this.visible=!1,window.removeEventListener("click",this.closeMenu),window.removeEventListener("contextmenu",this.closeMenu)},closeMenu(e){this.close()},click(e,t){e.preventDefault(),window.removeEventListener("click",this.closeMenu),window.removeEventListener("contextmenu",this.closeMenu);const{clientY:s,clientX:o}=e;this.modelValue=t,this.visible=!0,this.$nextTick(()=>{const i=this.$refs.S3RightMenu.getBoundingClientRect();let r=s,l=o;o+i.width>this.innerWidth&&(l=Math.max(this.innerWidth-i.width-10,0)),s+i.height>this.innerHeight&&(r=Math.max(this.innerHeight-i.height-10,0)),this.style={top:`${r}px`,left:`${l}px`},window.addEventListener("click",this.closeMenu),h(.1).then(()=>window.addEventListener("contextmenu",this.closeMenu))})}}};function w(e,t,s,o,n,i){return n.visible?(m(),d("div",{key:0,class:"right-menu",ref:"S3RightMenu",style:p(n.style),onContextmenu:t[0]||(t[0]=a(()=>{},["prevent"]))},[u(e.$slots,"default",{scope:n.modelValue},void 0,!0)],36)):c("",!0)}const E=f(v,[["render",w],["__scopeId","data-v-81d11fc6"]]);export{E as default};
