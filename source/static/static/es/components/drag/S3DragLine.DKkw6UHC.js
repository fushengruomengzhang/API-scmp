import{a,o as p,z as l,u as c}from"../../vue.CpRb0aFL.js";import{_ as m}from"../address/S3Address.BvGSUWFm.js";const i={name:"S3DragLine",components:{},setup(){return{}},emits:["dragEnd"],props:{position:{type:String,default:"top",validator:t=>["right","top"].includes(t)},zIndex:{type:Number,default:9999}},data(){return{node:void 0,parentNode:void 0,rightNum:void 0,topNum:void 0}},computed:{isRight(){return this.position==="right"},isTop(){return this.position==="top"},cursorStyle(){return this.isTop?"ns-resize":"ew-resize"}},watch:{},created(){},mounted(){},methods:{onMousedown(t){t.preventDefault(),this.node||(this.node=t.target),this.parentNode||(this.parentNode=t.target.parentNode),this.rightNum||(this.rightNum=t.clientX),this.topNum||(this.topNum=t.clientY),document.body.style.cursor=this.node.style.cursor,document.addEventListener("mousemove",this.onMousemove),document.addEventListener("mouseup",this.onMouseup,{once:!0})},onMousemove(t){if(this.isRight){const e=this.node.style.right=`${this.rightNum-t.clientX}px`;this.node.style.width=`calc(100% - ${e})`}else if(this.isTop){const e=this.node.style.top=`${t.clientY-this.topNum}px`;this.node.style.height=`calc(100% - ${e})`}},onMouseup(t){this.$emit("dragEnd");const{right:e,top:o}=this.node.style,{clientWidth:n,clientHeight:r}=this.parentNode;if(this.isRight){const s=`${n-parseFloat(e)}px`;this.parentNode.style.width=s,this.parentNode.style.flex=`0 0 ${s}`}else if(this.isTop){const s=`${r-parseFloat(o)}px`;this.parentNode.style.height=s,this.parentNode.style.flex=`0 0 ${s}`}document.body.style.cursor="",this.rightNum=this.topNum=void 0,this.node.style.right=this.node.style.top="0px",this.node.style.width=this.node.style.height="",document.removeEventListener("mousemove",this.onMousemove)}}},d=()=>{c(t=>({"31dbfc58":t.zIndex}))},h=i.setup;i.setup=h?(t,e)=>(d(),h(t,e)):d;function g(t,e,o,n,r,s){return p(),a("div",{class:l(["drag-line",{"drag-line-right":s.isRight,"drag-line-top":s.isTop}]),onMousedown:e[0]||(e[0]=(...u)=>s.onMousedown&&s.onMousedown(...u))},null,34)}const N=m(i,[["render",g],["__scopeId","data-v-acb8aaf4"]]);export{N as default};
