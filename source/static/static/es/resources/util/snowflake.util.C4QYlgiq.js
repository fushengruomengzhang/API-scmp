const a=function(){function e(t,i,n){if(this.twepoch=BigInt(1684822711e3),this.workerIdBits=BigInt(5),this.dataCenterIdBits=BigInt(5),this.maxWrokerId=BigInt(-1)^BigInt(-1)<<this.workerIdBits,this.maxDataCenterId=BigInt(-1)^BigInt(-1)<<this.dataCenterIdBits,this.sequenceBits=BigInt(12),this.workerIdShift=this.sequenceBits,this.dataCenterIdShift=this.sequenceBits+this.workerIdBits,this.timestampLeftShift=this.sequenceBits+this.workerIdBits+this.dataCenterIdBits,this.sequenceMask=BigInt(-1)^BigInt(-1)<<this.sequenceBits,this.lastTimestamp=BigInt(-1),this.workerId=BigInt(1),this.dataCenterId=BigInt(1),this.sequence=BigInt(0),this.workerId>this.maxWrokerId||this.workerId<0)throw new Error("_workerId must max than 0 and small than maxWrokerId-["+this.maxWrokerId+"]");if(this.dataCenterId>this.maxDataCenterId||this.dataCenterId<0)throw new Error("_dataCenterId must max than 0 and small than maxDataCenterId-["+this.maxDataCenterId+"]");this.workerId=BigInt(t),this.dataCenterId=BigInt(i),this.sequence=BigInt(n)}return e.prototype.tilNextMillis=function(t){let i=this.timeGen();for(;i<=t;)i=this.timeGen();return BigInt(i)},e.prototype.timeGen=function(){return BigInt(Date.now())},e.prototype.nextId=function(){let t=this.timeGen();if(t<this.lastTimestamp)throw new Error("Clock moved backwards. Refusing to generate id for "+(this.lastTimestamp-t));return this.lastTimestamp===t?(this.sequence=this.sequence+BigInt(1)&this.sequenceMask,this.sequence===BigInt(0)&&(t=this.tilNextMillis(this.lastTimestamp))):this.sequence=BigInt(0),this.lastTimestamp=t,t-this.twepoch<<this.timestampLeftShift|this.dataCenterId<<this.dataCenterIdShift|this.workerId<<this.workerIdShift|this.sequence},e}(),s=new a(BigInt(1),BigInt(1),BigInt(0)),r=String(s.nextId()),h=(e="")=>`${e}${s.nextId()}`;export{r as d,h as s};
